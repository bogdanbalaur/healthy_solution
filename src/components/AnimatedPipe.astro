---
interface Props {
    className?: string;
}

const { className = '' } = Astro.props;
---

<div class={`pipe-container ${className}`}>
    <div class="pipe">
        <div class="water-flow"></div>
        <div class="joint left"></div>
        <div class="joint right"></div>
    </div>
</div>

<style>
    .pipe-container {
        position: absolute;
        width: 100%;
        height: 100px;
        top: 50%;
        transform: translateY(-50%);
    }

    .pipe {
        position: relative;
        height: 40px;
        background: linear-gradient(to bottom, 
            #2c3e50,
            #34495e 20%,
            #34495e 80%,
            #2c3e50
        );
        margin: 0 50px;
        overflow: hidden;
    }

    .joint {
        position: absolute;
        width: 60px;
        height: 60px;
        background: #2c3e50;
        border-radius: 50%;
        top: 50%;
        transform: translateY(-50%);
    }

    .joint.left {
        left: -30px;
    }

    .joint.right {
        right: -30px;
    }

    .water-flow {
        position: absolute;
        top: 25%;
        left: 0;
        width: 200%;
        height: 50%;
        background: linear-gradient(90deg,
            rgba(41, 128, 185, 0.2),
            rgba(41, 128, 185, 0.4) 50%,
            rgba(41, 128, 185, 0.2)
        );
        animation: flowAnimation 2s linear infinite;
    }

    @keyframes flowAnimation {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-50%);
        }
    }
</style>